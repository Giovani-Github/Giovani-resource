package com.example.malware;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.widget.Toast;

public class StartBroadcastReceiver extends BroadcastReceiver {

	//接收到广播时调用
	@Override
	public void onReceive(Context context, Intent intent) {
		//打印的时候有可能模拟器和adb还没有建立连接，导致看不到输出
		System.out.println("开机成功");
		Toast.makeText(context, "开机陈宫", 0).show();
		
		Intent it = new Intent();
		//创建一个新的任务栈，存放启动的activity
		it.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
		it.setClass(context, MainActivity.class);
		context.startActivity(it);
	}

}
